#修复rknn版本问题：


# 定义路径
LIB_PATH="/home/wzp/03_RK3568/rknpu2-master/runtime/RK356X/Linux/librknn_api/aarch64/librknnrt.so"
SERVER_PATH="/home/wzp/03_RK3568/rknpu2-master/runtime/RK356X/Linux/rknn_server/aarch64/usr/bin/rknn_server"

echo "正在等待设备连接..."
adb wait-for-device
adb root
adb remount

echo "1. 推送文件到临时目录..."
adb push "$LIB_PATH" /userdata/librknnrt.so
adb push "$SERVER_PATH" /userdata/rknn_server

echo "2. 移动文件并修复权限..."
adb shell "mount -o remount,rw / && \
           cp /userdata/librknnrt.so /usr/lib/ && \
           cp /userdata/librknnrt.so /usr/lib64/ && \
           cp /userdata/rknn_server /usr/bin/ && \
           chmod +x /usr/bin/rknn_server && \
           rm /userdata/librknnrt.so /userdata/rknn_server"

echo "3. 重启 rknn_server..."
adb shell "killall -9 rknn_server"
adb shell "rknn_server &"

echo "4. 验证版本："
adb shell "rknn_server -v"

echo "=== 修复完成 ==="