注意buildroot下的usb连接一定失败，以下是尝试后失败的过程

usb连接失败：
#第一步：进入 Kernel 配置菜单
#在 SDK 根目录下执行：
# 进入 kernel 目录
cd kernel
make menuconfig

#第二步：开启关键配置
路径：
Device Drivers -> USB support -> USB Gadget Support
请确保你的界面最终变成这样：
[ ]Ethernet Control Model (CDC ECM) subset
[ ] RNDIS
[ ]Ethernet Emulation Model (EEM)
[*] Mass storage
[*] Function filesystem (FunctionFS)
[*] Accessory gadget<-- 必须勾选
[*] Audio Source gadget <-- 建议勾选
[*] Audio Class 1.0 <-- 必须勾选
[ ]Audio Class 1.0 (legacy implementation)
[*] Audio Class 2.0 <-- 必须勾选
[*] MIDI function <-- 建议勾选
[*] HID function <-- 必须勾选
[*] USB Webcam function




cd ..
#第三步：修改文件系统脚本 (Rootfs) ，关闭对 MTP 和 RNDIS 的强制依赖—— 这是解决死机的关键！
#请在虚拟机的 SDK 根目录（~/BSP/rk356x_linux）下，直接复制并运行以下命令块：
#1. 备份原文件 (安全第一)
cp external/rkscript/S50usbdevice external/rkscript/S50usbdevice.bak
#2. 执行修改命令 (使用 sed 批量注释)
#这些命令会自动在涉及 MTP 和 RNDIS 的关键行前面加上 # 号（注释掉）。
# 1. 注释掉创建 MTP 和 RNDIS 目录的命令 (这是导致死机的核心原因)
sed -i 's|mkdir ${USB_FUNCTIONS_DIR}/mtp.gs0|# &|g' external/rkscript/S50usbdevice
sed -i 's|mkdir ${USB_FUNCTIONS_DIR}/rndis.gs0|# &|g' external/rkscript/S50usbdevice
# 2. 注释掉 MTP 的 OS Descriptor 配置
sed -i 's|echo "MTP" > ${USB_FUNCTIONS_DIR}/mtp.gs0|# &|g' external/rkscript/S50usbdevice
# 3. 注释掉 MTP 和 RNDIS 的功能绑定 (syslink)
sed -i 's|test $MTP_EN = on && syslink_function mtp.gs0|# &|g' external/rkscript/S50usbdevice
sed -i 's|test $RNDIS_EN = on && syslink_function rndis.gs0|# &|g' external/rkscript/S50usbdevice
# 4. 注释掉 MTP 服务进程启动
sed -i 's|start-stop-daemon --start --quiet --background --exec /usr/bin/mtp-server|# &|g' external/rkscript/S50usbdevice
#3. 验证修改是否成功
#运行以下命令检查文件内容，确保关键行前面都有了 #：
grep "mtp.gs0" external/rkscript/S50usbdevice
#预期的输出结果（每一行前面都应该有 #）：
# 	mkdir ${USB_FUNCTIONS_DIR}/mtp.gs0
# 		echo "MTP" > ${USB_FUNCTIONS_DIR}/mtp.gs0/os_desc/interface.MTP/compatible_id
# 	test $MTP_EN = on && syslink_function mtp.gs0
#如果看到上面的输出（带有 #），说明脚本修改完美成功。


(# 1. 还原 S50usbdevice (Buildroot 用，但也还原以防万一)
cp external/rkscript/S50usbdevice.bak external/rkscript/S50usbdevice

# 2. 还原 usb_config.sh (Ubuntu 用，这是核心)
cp device/rockchip/oem/oem_uvcc/usb_config.sh.bak device/rockchip/oem/oem_uvcc/usb_config.sh

# 3. 赋予执行权限
chmod 755 external/rkscript/S50usbdevice
chmod 755 device/rockchip/oem/oem_uvcc/usb_config.sh)


#做完覆盖操作后，就可以放心地回到 SDK 根目录进行全量编译了，不用担心配置丢失或错乱：

#(不要用./build.sh all)
./build.sh kernel

#然后一步一步重新编译
./build.sh firmware
./build.sh updateimg
