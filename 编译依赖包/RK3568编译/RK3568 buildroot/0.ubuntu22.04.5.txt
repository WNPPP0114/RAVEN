# 1. æ›´æ–°ç³»ç»Ÿå¹¶å®‰è£…æ‰€æœ‰ç¼–è¯‘ä¾èµ–
sudo apt update && sudo apt install -y \
    git-core gnupg flex bison build-essential zip curl \
    zlib1g-dev gcc-multilib g++-multilib libc6-dev-i386 \
    lib32ncurses5-dev lib32z1-dev lib32stdc++6 \
    x11proto-core-dev libx11-dev libgl1-mesa-dev libxml2-utils \
    xsltproc unzip fontconfig python3 python3-pip python3-venv \
    python3-distutils bc bison ccache curl flex g++-multilib \
    gcc-multilib git gnupg gperf imagemagick lib32readline-dev \
    libbz2-dev libc6-dev libcurl4-openssl-dev libelf-dev libffi-dev \
    libfreetype6-dev liblz4-dev liblzo2-dev libncurses5-dev \
    libncursesw5-dev libpng-dev libsdl1.2-dev libssl-dev libtinfo5 \
    libtool libxml2 libxml2-dev lzop m4 ncurses-dev openjdk-17-jdk \
    patch pkg-config rsync subversion texinfo wget xz-utils zlib1g-dev \
    libgl1 libgl1-mesa-glx libgl1-mesa-dri


# 2. é…ç½® ccacheï¼ˆåŠ é€Ÿé‡å¤ç¼–è¯‘ï¼‰
echo 'export USE_CCACHE=1' >> ~/.bashrc
ccache -M 50G 2>/dev/null || true

# 3. å‡çº§ç”¨æˆ·çº§ pipï¼ˆé¿å…æƒé™é—®é¢˜ï¼‰
python3 -m pip install --user --upgrade pipã€‚

# 4. å¢å¤§ inotify ç›‘è§†æ•°ï¼ˆé˜²æ­¢ repo sync æŠ¥é”™ï¼‰
echo 'fs.inotify.max_user_watches=524288' | sudo tee -a /etc/sysctl.conf
sudo sysctl -p

# 5. éªŒè¯ Java ç‰ˆæœ¬ï¼ˆç¡®ä¿æ˜¯ OpenJDK 17ï¼‰
echo "âœ… Java version:"
java -version 2>&1 | head -n 2

# 6. æç¤ºç”¨æˆ·é‡æ–°åŠ è½½ shellï¼ˆå¯é€‰ï¼‰
echo -e "\nğŸ‰ ç¯å¢ƒé…ç½®å®Œæˆï¼å»ºè®®æ‰§è¡Œï¼š\n   source ~/.bashrc\næˆ–æ‰“å¼€æ–°ç»ˆç«¯ä»¥å¯ç”¨ ccacheã€‚"

# 7. ubuntu 24.04 pythonå…¼å®¹
sudo apt update
sudo apt install python-is-python3 -y







#æ³¨æ„ç¼–è¯‘æ—¶è¦é€€å‡ºcondaç¯å¢ƒï¼š
conda deactivate
# å¦‚æœè¿˜æœ‰ (base) æç¤ºï¼Œå¯èƒ½éœ€è¦è¿è¡Œå¤šæ¬¡ï¼Œç›´åˆ° (base) æ¶ˆå¤±


å•ç‹¬ç¼–è¯‘é•œåƒçš„é¡ºåºå¦‚ä¸‹æ‰€ç¤ºï¼š
å•ç‹¬ç¼–è¯‘ uboot ->å•ç‹¬ç¼–è¯‘ kernel ->å•ç‹¬ç¼–è¯‘ recovery ->å•ç‹¬ç¼–è¯‘ buildroot ->å•ç‹¬ç¼–è¯‘ firmware ->å•ç‹¬ç¼–è¯‘ updateimgï¼ˆ./build.sh ubootç­‰ï¼‰
æœ€åå¯ä»¥è¿›è¡Œ./build.sh allæ£€æŸ¥ä¸€ä¸‹ã€‚

